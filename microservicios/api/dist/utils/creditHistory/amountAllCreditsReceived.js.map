{"version":3,"file":"amountAllCreditsReceived.js","sourceRoot":"/","sources":["utils/creditHistory/amountAllCreditsReceived.ts"],"names":[],"mappings":";;;;AAAA,6GAAuF;AAEvF,SAAsB,wBAAwB,CAAC,MAAc;;;QAC3D,MAAM,SAAS,GAAG,MAAM,eAAe,CAAC,SAAS,CAAC;YAChD;gBACE,MAAM,EAAE;oBACN,QAAQ,EAAE,MAAM;iBACjB;aACF;YACD;gBACE,MAAM,EAAE;oBACN,GAAG,EAAE,IAAI;oBACT,SAAS,EAAE;wBACT,IAAI,EAAE,eAAe;qBACtB;iBACF;aACF;SACF,CAAC,CAAC;QAEH,OAAO,MAAA,SAAS,CAAC,CAAC,CAAC,0CAAE,SAAS,CAAC;;CAChC;AAlBD,4DAkBC","sourcesContent":["import * as contractService from '../../components/contract/contract/contract.service';\n\nexport async function amountAllCreditsReceived(userId: string) {\n  const contracts = await contractService.aggregate([\n    {\n      $match: {\n        borrower: userId,\n      },\n    },\n    {\n      $group: {\n        _id: null,\n        allAmount: {\n          $sum: '$amountInUSDC',\n        },\n      },\n    },\n  ]);\n\n  return contracts[0]?.allAmount;\n}\n"]}