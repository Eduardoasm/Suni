{"version":3,"file":"userCreditHistory.js","sourceRoot":"/","sources":["utils/creditHistory/userCreditHistory.ts"],"names":[],"mappings":";;;;AACA,6GAAuF;AAEvF,SAAsB,oBAAoB,CAAC,IAAe;;QACxD,MAAM,eAAe,GAAG,MAAM,eAAe,CAAC,IAAI,CAAC;YACjD,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,EAAE;SACnB,CAAC,CAAC;QAEH,MAAM,iBAAiB,GAAG,MAAM,eAAe,CAAC,IAAI,CAAC;YACnD,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,EAAE;YAClB,MAAM,EAAE,WAAW;YACnB,SAAS,EAAE,KAAK;SACjB,CAAC,CAAC;QAEH,MAAM,eAAe,GAAG,MAAM,eAAe,CAAC,IAAI,CAAC;YACjD,QAAQ,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,EAAE;YAClB,SAAS,EAAE,IAAI;SAChB,CAAC,CAAC;QAEH,OAAO;YACL,eAAe,EAAE,eAAe,CAAC,MAAM;YACvC,iBAAiB,EAAE,iBAAiB,CAAC,MAAM;YAC3C,eAAe,EAAE,eAAe,CAAC,MAAM;SACxC,CAAC;IACJ,CAAC;CAAA;AArBD,oDAqBC","sourcesContent":["import { IUserAuth } from '../../types/user';\nimport * as contractService from '../../components/contract/contract/contract.service';\n\nexport async function getUserCreditHistory(user: IUserAuth) {\n  const creditsReceived = await contractService.find({\n    borrower: user?.id,\n  });\n\n  const creditsPaidOnTime = await contractService.find({\n    borrower: user?.id,\n    status: 'concluded',\n    onDefault: false,\n  });\n\n  const creditsPaidLate = await contractService.find({\n    borrower: user?.id,\n    onDefault: true,\n  });\n\n  return {\n    creditsReceived: creditsReceived.length,\n    creditsPaidOnTime: creditsPaidOnTime.length,\n    creditsPaidLate: creditsPaidLate.length,\n  };\n}\n"]}