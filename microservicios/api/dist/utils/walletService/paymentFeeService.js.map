{"version":3,"file":"paymentFeeService.js","sourceRoot":"/","sources":["utils/walletService/paymentFeeService.ts"],"names":[],"mappings":";;;;AAAA,0DAA0B;AAC1B,oDAAiD;AAQjD;;;;;;GAMG;AAEH,SAAsB,iBAAiB,CAAC,IAAkB;;QACxD,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,EAAE,OAAO,EAAE,GAAG,IAAI,CAAC;QAE/C,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,6BAAa,CAAC,oBAAoB,CAAC,CAAC;SAC/C;QAED,MAAM,MAAM,GAAG;YACb,MAAM,EAAE,MAAM;YACd,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;YAChC,GAAG,EAAE,oBAAoB;YACzB,OAAO,EAAE;gBACP,aAAa,EAAE,UAAU,KAAK,EAAE;aACjC;YACD,IAAI,EAAE;gBACJ,QAAQ;gBACR,GAAG;gBACH,OAAO;aACR;SACF,CAAC;QACF,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,eAAK,EAAC,MAAM,CAAC,CAAC;YAErC,IAAI,CAAC,IAAI,CAAC,OAAO;gBAAE,MAAM,IAAI,6BAAa,CAAC,8BAA8B,CAAC,CAAC;YAE3E,OAAO,IAAI,CAAC;SACb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,KAAK,EAAE,sCAAsC,CAAC,CAAC;YAC3D,MAAM,IAAI,6BAAa,CAAC,wCAAwC,KAAK,EAAE,CAAC,CAAC;SAC1E;IACH,CAAC;CAAA;AA9BD,8CA8BC","sourcesContent":["import axios from 'axios';\nimport { NoSentryError } from '../NoSentryError';\n\nexport interface TLockBalance {\n  token: string;\n  walletId: string;\n  fee: number;\n  service: string;\n}\n/**\n *\n * @param token token received from app\n * @param walletId wallet user received from app\n * @param fee fee of user for the service\n * @param service service of the fee\n */\n\nexport async function paymentServiceFee(body: TLockBalance): Promise<any> {\n  const { token, walletId, fee, service } = body;\n\n  if (!token) {\n    throw new NoSentryError('Token not provided');\n  }\n\n  const config = {\n    method: 'post',\n    baseURL: process.env.SERVICE_URL,\n    url: `/servicefeepayment`,\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n    data: {\n      walletId,\n      fee,\n      service,\n    },\n  };\n  try {\n    const { data } = await axios(config);\n\n    if (!data.success) throw new NoSentryError('Error in payment service fee');\n\n    return data;\n  } catch (error) {\n    console.log(error, 'General error in payment service fee');\n    throw new NoSentryError(`General error in payment service fee ${error}`);\n  }\n}\n"]}