{"version":3,"file":"userInfoWithId.js","sourceRoot":"/","sources":["utils/walletService/userInfoWithId.ts"],"names":[],"mappings":";;;;AAAA,sDAAsD;AACtD,0DAA0B;AAC1B,oDAAiD;AAEjD;;;;;GAKG;AAEH,SAAsB,iBAAiB,CACrC,KAAa,EACb,MAAc;;QAEd,IAAI,CAAC,KAAK,EAAE;YACV,MAAM,IAAI,6BAAa,CAAC,oBAAoB,CAAC,CAAC;SAC/C;QAED,MAAM,MAAM,GAAG;YACb,MAAM,EAAE,KAAK;YACb,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;YAChC,GAAG,EAAE,SAAS,MAAM,EAAE;YACtB,OAAO,EAAE;gBACP,aAAa,EAAE,UAAU,KAAK,EAAE;aACjC;SACF,CAAC;QAEF,IAAI;YACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,eAAK,EAAC,MAAM,CAAC,CAAC;YAErC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACjB,MAAM,IAAI,6BAAa,CAAC,iBAAiB,CAAC,CAAC;aAC5C;YAED,OAAO,IAAI,CAAC;SACb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,MAAM,IAAI,6BAAa,CAAC,iBAAiB,CAAC,CAAC;SAC5C;IACH,CAAC;CAAA;AA7BD,8CA6BC","sourcesContent":["/* eslint-disable import/no-extraneous-dependencies */\nimport axios from 'axios';\nimport { NoSentryError } from '../NoSentryError';\n\n/**\n * function to search wallet in the wallet services from WAU\n * @param {string} token received token from app\n * @param {string} userId received userId from app\n * @returns user\n */\n\nexport async function getUserInfoWithId(\n  token: string,\n  userId: string\n): Promise<any> {\n  if (!token) {\n    throw new NoSentryError('Token not provided');\n  }\n\n  const config = {\n    method: 'get',\n    baseURL: process.env.SERVICE_URL,\n    url: `/user/${userId}`,\n    headers: {\n      authorization: `Bearer ${token}`,\n    },\n  };\n\n  try {\n    const { data } = await axios(config);\n\n    if (!data.success) {\n      throw new NoSentryError('Unauthenticated');\n    }\n\n    return data;\n  } catch (error) {\n    console.log(error);\n    throw new NoSentryError('Unauthenticated');\n  }\n}\n"]}