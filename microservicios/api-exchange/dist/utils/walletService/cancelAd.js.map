{"version":3,"file":"cancelAd.js","sourceRoot":"/","sources":["utils/walletService/cancelAd.ts"],"names":[],"mappings":";;;;AACA,0DAA0B;AAC1B,oDAAiD;AAEjD;;;;GAIG;AAEH,SAAsB,QAAQ,CAAC,KAAa,EAAE,SAAiB;;QAC7D,IAAI;YACF,IAAI,CAAC,KAAK,EAAE;gBACV,MAAM,IAAI,6BAAa,CAAC,oBAAoB,CAAC,CAAC;aAC/C;YAED,MAAM,MAAM,GAAG;gBACb,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,OAAO,CAAC,GAAG,CAAC,WAAW;gBAChC,GAAG,EAAE,iBAAiB,SAAS,EAAE;gBACjC,OAAO,EAAE;oBACP,aAAa,EAAE,UAAU,KAAK,EAAE;iBACjC;aACF,CAAC;YAEF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,IAAA,eAAK,EAAC,MAAM,CAAC,CAAC;YAErC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;gBACjB,MAAM,IAAI,6BAAa,CAAC,oBAAoB,CAAC,CAAC;aAC/C;YAED,OAAO,IAAI,CAAC;SACb;QAAC,OAAO,KAAK,EAAE;YACd,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;YAClC,MAAM,IAAI,6BAAa,CAAC,uBAAuB,KAAK,EAAE,CAAC,CAAC;SACzD;IACH,CAAC;CAAA;AA1BD,4BA0BC","sourcesContent":["import mongoose from 'mongoose';\nimport axios from 'axios';\nimport { NoSentryError } from '../NoSentryError';\n\n/**\n * function to search wallet in the wallet services from WAU\n * @param {string} token received token from app\n * @returns userId\n */\n\nexport async function deleteAd(token: string, loandAdId: string): Promise<any> {\n  try {\n    if (!token) {\n      throw new NoSentryError('Token not provided');\n    }\n\n    const config = {\n      method: 'delete',\n      baseURL: process.env.SERVICE_URL,\n      url: `/wallet/block/${loandAdId}`,\n      headers: {\n        authorization: `Bearer ${token}`,\n      },\n    };\n\n    const { data } = await axios(config);\n\n    if (!data.success) {\n      throw new NoSentryError('Error in delete ad');\n    }\n\n    return data;\n  } catch (error) {\n    console.log('Error in cancel ad');\n    throw new NoSentryError(`Error in cancel ad: ${error}`);\n  }\n}\n"]}